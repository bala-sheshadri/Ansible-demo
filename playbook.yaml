---
- name: Demo playbook
  hosts: windows
  tasks:

    - name: Print a simple message
      ansible.builtin.debug:
        msg: "Hello, world! This task is now running."
      register: msg

    - win_ping:

    - win_file:
        path: c:\foo.conf
        state: touch

    - win_stat:
        path: c:\foo.conf

    - win_stat:
        path: C:\fool

      
    - name: Print return information from the previous task
      ansible.builtin.debug:
        var: msg
        #verbosity: 2
      #when: msg.find('Hi') != -1

    - name: Get Windows Last Boot Time
      ansible.windows.win_shell: |
        (Get-CimInstance -ClassName Win32_OperatingSystem -Property LastBootUpTime).LastBootUpTime.ToFileTime()
      register: boot_time_result
      changed_when: false # This task doesn't change the system

    - name: Display Last Boot Time
      ansible.builtin.debug:
        msg: "Last Boot Time (FileTime): {{ boot_time_result.stdout }}"

        